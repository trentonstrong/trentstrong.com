<!doctype html>
<!-- https://github.com/paulirish/html5-boilerplate/blob/master/index.html -->
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7 ]> <html lang="en" class="no-js ie6"> <![endif]-->
<!--[if IE 7 ]>    <html lang="en" class="no-js ie7"> <![endif]-->
<!--[if IE 8 ]>    <html lang="en" class="no-js ie8"> <![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--> <html lang="en" class="no-js"> <!--<![endif]-->
<head>
    <meta charset="">

  <!-- Always force latest IE rendering engine (even in intranet) & Chrome Frame
       Remove this if you use the .htaccess -->
  <meta http-equiv="X-UA-Compatible" content="">

  <!-- encoding must be specified within the first 512 bytes
        www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#charset -->

  <!-- meta element for compatibility mode needs to be before
        all elements except title & meta
        msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx -->
  <!-- Chrome Frame is only invoked if meta element for
        compatibility mode is within the first 1K bytes
        code.google.com/p/chromium/issues/detail?id=23003 -->

  <title>Where do you store your Django signals?</title>
  <meta name="description" content="Where do you store your Django signals?
">
  <meta name="author" content="Trent Strong">

  <!--  Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="">

    <!-- Place favicon.ico & apple-touch-icon.png
        in the root of your domain and delete these references -->
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
    <link rel="stylesheet" href="/media/css/site.css">
  <link rel="stylesheet" href="/media/css/syntax.css">
  
    <!-- All JavaScript at the bottom, except for Modernizr which
        enables HTML5 elements & feature detects -->
    <script src="/media/js/libs/modernizr-1.7.min.js"></script>
    </head>
<body id="django-signals">
    <div id="container">
            <div id="main" role="main">
          <header class="banner clearfix">
          <div class="top-bar-container">
          </div>
          <div class="top-bar">
                              <nav class=main_nav>
    <ul>
                <li>
            <a title="Home Page"
                class="home"
                href="/index.html">
                Home
            </a>
        </li>        <li>
            <a title="Projects"
                class="projects"
                href="/projects">
                Projects
            </a>
        </li>        <li>
            <a title="Blog"
                class="blog"
                href="/blog">
                Blog
            </a>
        </li>        <li>
            <a title="About"
                class="about"
                href="/about.html">
                About
            </a>
        </li>    </ul>
</nav>
                    </div>
          <div class="site-title">
            <a title="Bacong, Eggs, and Coffee" href="">
                <h1>
                Bacon,<br />
                Eggs,<br />
                and Coffee</h1>

            </a>
          </div>          </header>
          <section class="content">
          <article class="post">
<nav class="post_nav">
<a class="backlink" href="/blog/2011">Back to list</a>
<a class="prev disabled"
    title=""
    >
    Previous
</a>

<a class="next"
    title="A Sad Post"
        href="/blog/sad-post.html">
    Next
</a>

<br>
<div id="twitter_share">
<a href="http://twitter.com/share"
    class="twitter-share-button"
    data-count="vertical"
    data-via="ringce">Tweet</a>
    <script type="text/javascript"
        src="http://platform.twitter.com/widgets.js"></script>
</div>
<div id="facebook_like">
<iframe src="http://www.facebook.com/plugins/like.php?href&amp;layout=box_count&amp;show_faces=false&amp;width=450&amp;action=like&amp;font=arial&amp;colorscheme=light&amp;height=65"
            scrolling="no"
            frameborder="0"
            style="border:none; overflow:hidden; width:450px; height:65px;"
            allowTransparency="true"></iframe>
</div>
</nav>
<h1 class="title">
    <a href="/blog/2011/django-signals.html">
        Where do you store your Django signals?
    </a>
</h1>
<time datetime="2011-03-01">
    Posted: Tue, 01 Mar 2011
</time>

<ul class="tags clear">
<li>
    <a class="small" href="/blog/tags/django.html">
        django
    </a>
</li>
</ul>
<p>If you&#8217;re using Django to build your web application, more often than not there
is already a convention for organizing your modules and packages.  A typical
Django application is structured something like&nbsp;this:</p>
<pre><code>project/
    __init__.py
    app1/
        __init__.py
        forms.py
        models.py
        views.py
        signals.py
        utils.py
        urls.py
    app2/
        ...
    templates/
    settings.py
    urls.py
    ...
</code></pre>
<p>And so forth.  Overall, this structure is pretty manageable, though minor
deviations are&nbsp;common.</p>
<p>If there is significant interaction between your various relational models,
we often run into the requirement of performing an action based on an event
related to a model, such as a &#8220;save&#8221; event.  Keeping these actions decoupled
from the actual model is a textbook example where the <em>Observer</em> pattern
comes in handy.  This is exactly what Django&#8217;s signals infrastructure aims to&nbsp;provide.</p>
<p>As detailed in the example above, the typical placement of signal handlers related to an
application&#8217;s models is in the application package itself, in a module aptly
named&nbsp;&#8220;signals&#8221;.</p>
<p>The same reasoning that pulls your actions out of model save methods can be applied to your handlers.
As your application grows in complexity it also tends to happen that your signal handlers begin to
interact with models from several different applications.  In this case it is
not completely clear (at least to me) where the signals should live, and since signal logic
is by definition decoupled from the models there are few clues to let us know what handlers
a model&#8217;s event might trigger since we can only associate a single application
with a signal&nbsp;handler.</p>
<p>The structure I&#8217;m experimenting with right now is to create a single signals
package underneath the project package to organize all signals code.  I can then
add as many modules to the signals package as I like, with informative names 
like &#8220;user_signals&#8221; or &#8220;sluggable_model_signals&#8221;.  The file structure of the
signals package looks&nbsp;like:</p>
<pre><code>signals/
    __init__.py
    user_signals.py
    sluggable_model_signals.py
    ...
</code></pre>
<p>Signals/<strong>init</strong>.py is defined&nbsp;as:</p>
<pre><code>""" Module for registering centralized signals """

__all__ = [
    'user_signals',
    'sluggable_model_signals',
    ]

from example.signals import *
</code></pre>
<p>The <strong>all</strong> keyword makes sure the modules can be imported using the &#8220;import*&#8221;
functionality.  Finally, the example.signals package is added to INSTALLED_APPS,
before any of our defined applications to ensure the signals are included only
once and early enough to register&nbsp;properly.</p></article>          </section>
      </div>
      </div> <!--! end of #container -->
  <footer>
      Powered by <a href="http://ringce.com/hyde">hyde</a>.
  </footer>
      <!-- Javascript at the bottom for fast page loading -->
    <!-- Grab Google CDN's jQuery, with a protocol relative URL; fall back to local if necessary -->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.js"></script>
  <script>window.jQuery || document.write('<script src="js/libs/jquery-1.5.1.min.js">\x3C/script>')</script>
  
    

  <!--[if lt IE 7 ]>
    <script src="js/libs/dd_belatedpng.js"></script>
    <script>DD_belatedPNG.fix('img, .png_bg'); // Fix any <img> or .png_bg bg-images. Also, please read goo.gl/mZiyb </script>
  <![endif]-->

      
  </body>
</html>