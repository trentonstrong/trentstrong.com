<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <title>
        BASIC blog full text feed    </title>
        <link href="blog/atom.xml" rel="self" />
    
        <link href="/"/>
    
        
    <updated>2011-09-11T20:23:20Z</updated>

    <id>/blog/atom.xml/</id>

            <entry>
            <title type="html">Where do you store your Django signals?</title>
            <author><name>Trent Strong</name></author>
            <link href="/blog/2011/django-signals.html"/>
            <updated>2011-03-01T10:00:00Z</updated>
            <published>2011-03-01T10:00:00Z</published>
            <id>/blog/2011/django-signals.html</id>
                        <category   scheme="/blog/tags"
                        term="django"
                        label="Django" />
            
            <content type="html">
                                &lt;p&gt;If you&amp;#8217;re using Django to build your web application, more often than not there
is already a convention for organizing your modules and packages.  A typical
Django application is structured something like&amp;nbsp;this:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;project/
    __init__.py
    app1/
        __init__.py
        forms.py
        models.py
        views.py
        signals.py
        utils.py
        urls.py
    app2/
        ...
    templates/
    settings.py
    urls.py
    ...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;And so forth.  Overall, this structure is pretty manageable, though minor
deviations are&amp;nbsp;common.&lt;/p&gt;
&lt;p&gt;If there is significant interaction between your various relational models,
we often run into the requirement of performing an action based on an event
related to a model, such as a &amp;#8220;save&amp;#8221; event.  Keeping these actions decoupled
from the actual model is a textbook example where the &lt;em&gt;Observer&lt;/em&gt; pattern
comes in handy.  This is exactly what Django&amp;#8217;s signals infrastructure aims to&amp;nbsp;provide.&lt;/p&gt;
&lt;p&gt;As detailed in the example above, the typical placement of signal handlers related to an
application&amp;#8217;s models is in the application package itself, in a module aptly
named&amp;nbsp;&amp;#8220;signals&amp;#8221;.&lt;/p&gt;
&lt;p&gt;The same reasoning that pulls your actions out of model save methods can be applied to your handlers.
As your application grows in complexity it also tends to happen that your signal handlers begin to
interact with models from several different applications.  In this case it is
not completely clear (at least to me) where the signals should live, and since signal logic
is by definition decoupled from the models there are few clues to let us know what handlers
a model&amp;#8217;s event might trigger since we can only associate a single application
with a signal&amp;nbsp;handler.&lt;/p&gt;
&lt;p&gt;The structure I&amp;#8217;m experimenting with right now is to create a single signals
package underneath the project package to organize all signals code.  I can then
add as many modules to the signals package as I like, with informative names 
like &amp;#8220;user_signals&amp;#8221; or &amp;#8220;sluggable_model_signals&amp;#8221;.  The file structure of the
signals package looks&amp;nbsp;like:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;signals/
    __init__.py
    user_signals.py
    sluggable_model_signals.py
    ...
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Signals/&lt;strong&gt;init&lt;/strong&gt;.py is defined&amp;nbsp;as:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&#34;&#34;&#34; Module for registering centralized signals &#34;&#34;&#34;

__all__ = [
    &#39;user_signals&#39;,
    &#39;sluggable_model_signals&#39;,
    ]

from example.signals import *
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;The &lt;strong&gt;all&lt;/strong&gt; keyword makes sure the modules can be imported using the &amp;#8220;import*&amp;#8221;
functionality.  Finally, the example.signals package is added to INSTALLED_APPS,
before any of our defined applications to ensure the signals are included only
once and early enough to register&amp;nbsp;properly.&lt;/p&gt;            </content>
        </entry>
            <entry>
            <title type="html">A Sad Post</title>
            <author><name>Trent Strong</name></author>
            <link href="/blog/sad-post.html"/>
            <updated>2010-12-01T10:00:00Z</updated>
            <published>2010-12-01T10:00:00Z</published>
            <id>/blog/sad-post.html</id>
                        <category   scheme="/blog/tags"
                        term="sad"
                        label="Sad" />
                        <category   scheme="/blog/tags"
                        term="thoughts"
                        label="Thoughts" />
            
            <content type="html">
                                &lt;p&gt;&lt;img alt=&#34;A Dark Image&#34; src=&#34;/media/images/dark.png&#34; /&gt;
I went and dressed sadly. It will show you pretty well how pipped I was when I
tell you that I near as a toucher put on a white tie with a dinner-jacket. I
sallied out for a bit of food more to pass the time than because I wanted it.
It seemed brutal to be wading into the bill of fare with poor old Bicky headed
for the breadline.
When I got back old Chiswick had gone to bed, but Bicky was there, hunched up
in an arm-chair, brooding pretty tensely, with a cigarette hanging out of the
corner of his mouth and a more or less glassy stare in his eyes. He had the
aspect of one who had been soaked with what the newspaper chappies call &amp;#8220;some
blunt&amp;nbsp;instrument.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;This is a bit thick, old thing—what!&amp;#8221; I&amp;nbsp;said.&lt;/p&gt;
&lt;p&gt;He picked up his glass and drained it feverishly, overlooking the fact that it
hadn&amp;#8217;t anything in&amp;nbsp;it.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;I&amp;#8217;m done, Bertie!&amp;#8221; he&amp;nbsp;said.&lt;/p&gt;
&lt;p&gt;He had another go at the glass. It didn&amp;#8217;t seem to do him any&amp;nbsp;good.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;If only this had happened a week later, Bertie! My next month&amp;#8217;s money was due
to roll in on Saturday. I could have worked a wheeze I&amp;#8217;ve been reading about
in the magazine advertisements. It seems that you can make a dashed amount of
money if you can only collect a few dollars and start a chicken-farm. Jolly
sound scheme, Bertie! Say you buy a hen—call it one hen for the sake of
argument. It lays an egg every day of the week. You sell the eggs seven for
twenty-five cents. Keep of hen costs nothing. Profit practically twenty-five
cents on every seven eggs. Or look at it another way: Suppose you have a dozen
eggs. Each of the hens has a dozen chickens. The chickens grow up and have
more chickens. Why, in no time you&amp;#8217;d have the place covered knee-deep in hens,
all laying eggs, at twenty-five cents for every seven. You&amp;#8217;d make a fortune.
Jolly life, too, keeping hens!&amp;#8221; He had begun to get quite worked up at the
thought of it, but he slopped back in his chair at this juncture with a good
deal of gloom. &amp;#8220;But, of course, it&amp;#8217;s no good,&amp;#8221; he said, &amp;#8220;because I haven&amp;#8217;t the&amp;nbsp;cash.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;You&amp;#8217;ve only to say the word, you know, Bicky, old&amp;nbsp;top.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;Thanks awfully, Bertie, but I&amp;#8217;m not going to sponge on&amp;nbsp;you.&amp;#8221;&lt;/p&gt;
&lt;p&gt;That&amp;#8217;s always the way in this world. The chappies you&amp;#8217;d like to lend money to
won&amp;#8217;t let you, whereas the chappies you don&amp;#8217;t want to lend it to will do
everything except actually stand you on your head and lift the specie out of
your pockets. As a lad who has always rolled tolerably free in the right
stuff, I&amp;#8217;ve had lots of experience of the second class. Many&amp;#8217;s the time, back
in London, I&amp;#8217;ve hurried along Piccadilly and felt the hot breath of the
toucher on the back of my neck and heard his sharp, excited yapping as he
closed in on me. I&amp;#8217;ve simply spent my life scattering largesse to blighters I
didn&amp;#8217;t care a hang for; yet here was I now, dripping doubloons and pieces of
eight and longing to hand them over, and Bicky, poor fish, absolutely on his
uppers, not taking any at any&amp;nbsp;price.&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;Well, there&amp;#8217;s only one hope,&amp;nbsp;then.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;What&amp;#8217;s&amp;nbsp;that?&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;Jeeves.&amp;#8221;&lt;/p&gt;
&lt;p&gt;&lt;span class=&#34;dquo&#34;&gt;&amp;#8220;&lt;/span&gt;Sir?&amp;#8221;&lt;/p&gt;
&lt;p&gt;There was Jeeves, standing behind me, full of zeal. In this matter of
shimmering into rooms the chappie is rummy to a degree. You&amp;#8217;re sitting in the
old armchair, thinking of this and that, and then suddenly you look up, and
there he is. He moves from point to point with as little uproar as a jelly
fish. The thing startled poor old Bicky considerably. He rose from his seat
like a rocketing pheasant. I&amp;#8217;m used to Jeeves now, but often in the days when
he first came to me I&amp;#8217;ve bitten my tongue freely on finding him unexpectedly
in my&amp;nbsp;midst.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://www.gutenberg.org/cache/epub/8164/pg8164.html&#34;&gt;My Man Jeeves by &lt;span class=&#34;caps&#34;&gt;PG&lt;/span&gt;&amp;nbsp;Wodehouse&lt;/a&gt;&lt;/p&gt;            </content>
        </entry>
    </feed>